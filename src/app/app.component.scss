@use "sass:math";

// Variables
$primary-bg-color: #1F2024;
$blob-colors: #b9c6ff, #FF77A9, #6FDFDF, #8E7CC3, #f5ff9e; // Muted blues, teals, and purples
$num-blobs: 15; // Total number of blobs

// Wrapper
.wrapper {
  position: relative;
  z-index: 1; /* Below header and footer */
  padding: 0;
  margin: 0;
  background: $primary-bg-color;
  min-height: 100vh;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

// Gradient Background
.gradient-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0; 
  overflow: hidden;
  background: linear-gradient(198deg, #3b3f52, #1F2024);
  background-size: 150% 150%;
  animation: gradient-animation 2s ease-in-out infinite;
}

// Keyframes for gradient animation
@keyframes gradient-animation {
  0% { background-position: 0% 75%; }
  50% { background-position: 100% 75%; }
  100% { background-position: 0% 75%; }
}

// Blob Container
.blob-c {
  min-height: 100vh;
  overflow: hidden;
  position: absolute;
  width: 100%;
  filter: blur(40px);
}

// Mixin for Blob Styles
@mixin blob($i) {
  $size: math.random(math.div(100px, 1px)) * 1px + 50px; // Adjust size range between 50px to 150px
  $color: nth($blob-colors, math.random(length($blob-colors))); // Randomize color
  $animation-duration: math.random(math.div(15s, 1s)) * 1s + 5s; // Adjust duration between 5s and 20s
  
  // Adjust for unit handling in math.random
  $x-range: math.random(math.div(25vw, 1vw)) * 1vw + math.div(($i % 4) * 33vw, 1); 
  $y-range: math.random(math.div(25vh, 1vh)) * 1vh + math.div(($i % 3) * 25vh, 1); 

  .shape-blob-#{$i} {
    width: $size;
    height: $size;
    background: $color;
    position: absolute;
    left: $x-range;
    top: $y-range;
    opacity: 0.6;
    border-radius: 40% 50% 30% 40%;
    animation: transform $animation-duration ease-in-out infinite both alternate,
               movement $animation-duration * 1.2 ease-in-out infinite both;
  }
}

// Generate Multiple Blobs
@for $i from 1 through $num-blobs {
  @include blob($i);
}

// Keyframes for shape transformations
@keyframes transform {
  0%, 100% { border-radius: 33% 67% 70% 30% / 30% 40% 70% 70%; }
  20% { border-radius: 37% 63% 51% 49% / 37% 35% 35% 63%; }
  40% { border-radius: 36% 64% 64% 36% / 64% 48% 52% 26%; }
  60% { border-radius: 37% 63% 51% 49% / 30% 30% 70% 73%; }
  80% { border-radius: 40% 60% 42% 58% / 51% 51% 49% 59%; }
}

// Keyframes for increased blob movement
@keyframes movement {
  0%, 100% { transform: translate(0, 0) scale(1); }
  25% { transform: translate(60px, -40px) rotate(30deg) scale(1.1); }
  50% { transform: translate(-80px, 70px) rotate(-60deg) scale(1.5); }
  75% { transform: translate(100px, -60px) rotate(45deg) scale(1.3); }
}